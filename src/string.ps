%!PS

% PyonScript programming language
% Definitions: String operations


% str -- convert to string
%        if array, must be int array; convert ints to chars
%        else, call cvs with a max-length string
%   int_array str -> string
%   obj str -> string
/str
{
    dup array?
    {
	dup length string exch 0 exch
	{
	    3 copy put
	    pop 1 add
	} forall
	pop
    }
    {
	STRINGMAX string cvs
    } ifelse
} bind odef

% base -- convert int to string with given radix
%   int radix -> string
/base
{
    STRINGMAX string cvrs
} bind odef
