%!PS

% PyonScript programming language
% Definitions: Input/output operations


% stderr printing operations corresponding to =, ==, and =only
/err=
{
    (%stderr) (w) file exch write=
} bind odef

/err==
{
    (%stderr) (w) file exch write==
} bind odef

/errdisplay
{
    (%stderr) (w) file exch write=only
} bind odef


% input -- read a PostScript token from stdin
%   input -> obj
/input
{
    (%stdin) (r) file token not
    {
	% TODO: Handle I/O error properly
	ioerror
    } if
} bind odef

% readln -- read a PostScript line from stdin
%   readln -> string
/readln
{
    (%stdin) (r) file STRINGMAX string readline not
    {
	% TODO: Handle I/O error properly
	ioerror
    } if
} bind odef

% readstr -- read a PostScript string of a given size from stdin
%   int readstr -> string
/readstr
{
    (%stdin) (r) file exch string readstring not
    {
	% TODO: Handle I/O error properly
	ioerror
    } if
} bind odef

% readch -- read a character from stdin (returns int)
%   readch -> int
/readch
{
    (%stdin) (r) file read not
    {
	% TODO: Handle I/O error properly
	ioerror
    } if
} bind odef
